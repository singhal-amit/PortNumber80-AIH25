# ğŸ“‘ **Challenge 1b: Multi-Collection PDF Analysis**

## ğŸš€ **Overview**

A semantic PDF analysis pipeline that processes multiple document collections using **persona-driven tasks** to extract only the most relevant sections from large documents.

Supports scenarios like:

- âœˆï¸ **Travel Planning**
- ğŸ§¾ **HR & Compliance**
- ğŸ“š **Education**
- ğŸ½ï¸ **Corporate Catering**

---

# âš™ï¸ **Tech Stack**

| Layer                 | Tool                    | Purpose                            |
| --------------------- | ----------------------- | ---------------------------------- |
| **Language**          | Python 3.10             | Core scripting                     |
| **Embedding Model**   | `sentence-transformers` | Semantic text embeddings           |
| **PDF Parsing**       | PyMuPDF (`fitz`)        | PDF text extraction                |
| **Similarity Search** | `scikit-learn`          | Cosine similarity for ranking      |
| **Data Handling**     | JSON                    | Structured input/output            |
| **Containerization**  | Docker                  | Portable, reproducible environment |
| **Persona Store**     | `persona.json`          | Persona-specific keywords          |

---

## ğŸ—‚ï¸ **Project Structure**

```
Solution_1b/
â”œâ”€â”€ Collection_1/
â”‚   â”œâ”€â”€ PDFs/                       # PDF files
â”‚   â”œâ”€â”€ challenge1b_input.json      # Input configuration
â”‚   â”œâ”€â”€ challenge1b_output.json     # Expected or given output
â”‚   â””â”€â”€ solution1b_output.json      # Solution output generated by app.py
â”œâ”€â”€ Collection_2/
â”‚   â”œâ”€â”€ PDFs/
â”‚   â”œâ”€â”€ challenge1b_input.json
â”‚   â”œâ”€â”€ challenge1b_output.json
â”‚   â””â”€â”€ solution1b_output.json
â”œâ”€â”€ Collection_3/
â”‚   â”œâ”€â”€ PDFs/
â”‚   â”œâ”€â”€ challenge1b_input.json
â”‚   â”œâ”€â”€ challenge1b_output.json
â”‚   â””â”€â”€ solution1b_output.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ local_model/                # Local semantic embedding model
â”‚   â”œâ”€â”€ app.py                      # Main runner
â”‚   â”œâ”€â”€ utils.py                    # Helper functions
â”‚   â”œâ”€â”€ persona.json                # Persona definitions & learned keywords
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ Dockerfile                      # Container build file
â”œâ”€â”€ README.md                       # Project documentation
```

---

## ğŸ“ **Collections**

### âœ… **Collection 1: Travel Planning**

- **Persona**: Travel Planner
- **Task**: Plan a 4-day trip for 10 college friends to the South of France
- **Documents**: Travel guides

### âœ… **Collection 2: Adobe Acrobat Learning**

- **Persona**: HR Professional
- **Task**: Design & manage onboarding and compliance forms
- **Documents**: Acrobat user manuals

### âœ… **Collection 3: Recipe Collection**

- **Persona**: Food Contractor
- **Task**: Prepare vegetarian buffet dinner menu for corporate event
- **Documents**: Cooking & catering guides

---

## ğŸ§¾ **Input JSON Example**

```json
{
  "challenge_info": {
    "challenge_id": "round_1b_001",
    "test_case_name": "travel_plan"
  },
  "documents": [
    { "filename": "guide1.pdf", "title": "South France Travel Guide" }
  ],
  "persona": {
    "role": "Travel Planner"
  },
  "job_to_be_done": {
    "task": "Plan the itinerary for a group trip."
  }
}
```

---

## âœ… **Expected Output: `solution1b_output.json`**

```json
{
  "metadata": {
    "input_documents": ["guide1.pdf"],
    "persona": "Travel Planner",
    "job_to_be_done": "Plan the itinerary for a group trip.",
    "processing_timestamp": "2025-07-27T12:00:00Z"
  },
  "extracted_sections": [
    {
      "document": "guide1.pdf",
      "section_title": "4-Day Itinerary Highlights",
      "importance_rank": 1,
      "page_number": 3
    }
  ],
  "subsection_analysis": [
    {
      "document": "guide1.pdf",
      "refined_text": "Details about hotels, transport, sightseeing...",
      "page_number": 3
    }
  ]
}
```

---

## ğŸ§© **Key Highlights**

âœ… Persona-driven section ranking
âœ… Semantic similarity for precise matching
âœ… JSON output for easy integration
âœ… Same logic works in Docker or virtualenv

---

## ğŸ³ **Run Locally**

```bash
# Inside virtualenv
cd src
python app.py
```

## ğŸ³ **Run with Docker**

```bash
docker build -t persona-doc-intel:v8 .

docker run --rm -it ^
  -v ${PWD}/Collection_1:/app/Collection_1 ^
  -v ${PWD}/Collection_2:/app/Collection_2 ^
  -v ${PWD}/Collection_3:/app/Collection_3 ^
  persona-doc-intel:v8
```

âœ… Outputs are saved back as `solution1b_output.json` in each collection folder.
